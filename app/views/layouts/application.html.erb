<!DOCTYPE html>
<html>
  <head>
    <title>TradingCardGame</title>
    <%= csrf_meta_tags %>
    <link href="https://fonts.googleapis.com/css?family=Bungee" rel="stylesheet">

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>

  </head>

  <body>

  <nav class="navbar navbar-default">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">TradingCardGame</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a onclick="showRulesModal()">about</a></li>
        <li><a href="#">rules</a></li>
          
        
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li><a href="/games/">games</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><%= @current_user ? @current_user.name : "log in"%> <span class="caret"></span></a>
          <ul class="dropdown-menu">
          <% if @current_user %>
            <li><a href="/users/<%= @current_user.id %>/">profile</a></li>
            <li><a href="/mycards/">my cards</a></li>
           <% end %> 
            <li role="separator" class="divider"></li>
            <% if current_user %>
              <li><a href="/logout">log out</a></li>
            <% else %>
              <li><a href="/signup">sign up</a></li>
              <li><a href="/login">log in</a></li>
            <% end %>
          </ul>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

    <div class="container">
    <% flash.each do |key, value| %>
      <p><%= value %></p>
    <% end %>
    <%= yield %>
    <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" id="rulesModal">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="row">
            <div class="col-md-10 col-offset-1">
              <h2>Preparation</h2>
              <ul>
                <li>Each player starts the game with 30 Health and 0 Mana slots</li>
                <li>Each player starts with a deck of 20 Damage cards with the following</li> 
                <li>Mana costs: 0,0,1,1,2,2,2,3,3,3,3,4,4,4,5,5,6,6,7,8</li>
                <li>From the deck each player receives 3 random cards has his initial hand</li>
              </ul>
                <h2>Gameplay</h2>
              <ul>
                <li>The active player receives 1 Mana slot up to a maximum of 10 total slots</li>
                <li>The active player’s empty Mana slots are refilled</li>
                <li>The active player draws a random card from his deck</li>
                <li>The active player can play as many cards as he can afford.</li> 
                <li>Any played card empties Mana slots and deals immediate damage to the opponent player equal to its Mana cost.</li>
                <li>If the opponent player’s Health drops to or below zero the active player wins the game</li>
                <li>If the active player can’t (by either having no cards left in his hand or lacking sufficient Mana to pay for any hand card) or simply doesn’t want to play another card, the opponent player becomes active</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      function showRulesModal(){
        $("#rulesModal").modal('show');
      };
      
    </script>
  </body>
</html>
